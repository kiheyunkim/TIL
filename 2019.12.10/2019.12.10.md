## 암호 조합에 따른 크래킹

* #### 크래킹 되기 쉬운 패스워드

  * 길이가 너무 짧거나 null인 패스워드

  * 사전에 나오는 단어나 이들의 조합 패스워드(password Dictionary)

  * 키보드 자판을 일렬순으로 나열한 패스워드

  * 사용자 계쩡 정보에서 유추 가능한 단어들로 된 패스워드

    

* #### 크래킹되기 어려운 패스워드

  * ##### 영문+숫자+특수문자 조합

    | 해시 종류            | LM       | NTLMv2  | NTLMv2         | NTLMv2        |
    | -------------------- | -------- | ------- | -------------- | ------------- |
    | 패스워드 최대 길이   | 7        | 7       | 10             | 10            |
    | 구성문자             | 알파벳 + | 숫자 +  | 특수문자(14종) | 알파벳 + 숫자 |
    | 레인보우 테이블 숫자 | 30       | 30      | 3,700,000      | 1,400,000     |
    | 레인보우 테이블 용량 | 17.88GB  | 17.88GB | 2,205,371.85GB | 97.19%        |
    | 성공률               | 97%      | 97%     | 97.16%         | 97.19%        |
    | 생성시간             | 20일     | 12일    | 5140년         | 189년         |

  

# 윈도우 서버 운영 시 유의사항

#### 파일 시스템 체크

* NTFS 파일 시스템은 FAT파일 시스템에는 없는 데이터 접근에 대한 감사 기록, 파일 및 디렉터리에 대한 소유 권 및 사용권한을 부여하는 등의 보안 기능을 제공한다.

* FAT파일 시스템을 사용할 경우, 비인가자에게 중요한 데이터 및 시스템 파일이 쉽게 노출될 수 있으므로 NTFS 파일 시스템을 사용하도록 한다.

* 파일시스템 변경방법

  ```
  convert drivename/fs:ntfs
  ```

  

#### 불필요한 공유 제거

* c$, d$ admins와 같은 기본 공유는 관리자가 네트워킄 상에서 시스템을 관리하기 위해 기본적으로 마련된 것으로 관리 목적으로 사용하지 않는다면 제거해야한다.

* 불필요한 공유 디렉터리를 없애고 필요하다면 공유 디렉터리의 접근 권한에서 Everyone 사용자 그룹을 삭제한다.

* C$ D$ ADmins제거 방법

  * '공유중지' 또는 net share 고유이름 /delete

  * 운영체제 재시작시 자동으로 공유풀더를 만드는 것을 방지

  * HKLM\SYSTEM\CURRENTCONTROLSET\Services

    

#### SAM파일 접근 통제

* SAM(Security Account Manager)파일은 계정에 관한 정보를 보관하고 있는 파일로 적절한 접근 통제 및 권한 설정이 필요하다
* %systemroot%/system32/config/SAM을 권한을 올림



#### 마지막 사용자 이름 표시 안 함 설정

* 컴퓨터에 마지막으로 로그인한 사용자의 이름을 표시할 경우 임의의 사용자가 해당 계정을 확인한 후 로그인을 시도할 수 있으므로, 마지막으로 로그인한 사용자의 이름이 표시되지 않도록 설정해두어야 한다.

* secpo.msc

  

#### 로그인 하지 않고 시스템 종료 방지

* 시스템 로그온 하지 않고 시스템 종료 허용 정책

  - 이 정책을 활성화하면 windows 로그온 화면에서 시스템 종료 명령을 사용할 수 있다.
  - 이 정책을 활성화하지 않으면 컴퓨터 종료 옵션이 Windows 로그온 화면에 나타나지 않는다

* 안전한 시스템 종료를 보장하기 위해서는 사용자가 컴퓨터에 로그온하여 시스템 종료 권한이 있는 경우에만 시스템을 종료할 수 있도록 제한해야 하므로, "시스템:로그온 하지 않고 시스템 종료 허용 정책을 "사용 안 함"으로 설정해야한다.

* 로그온 하지 않고 시스템 종료 방지 설정 secpo.msc

  

#### 예약 작업 관리

* 공격자가 작업 스케줄러(task schedulter)에 프로그램을 등록하여 의도하지 않은 시스템 부하를 발생시킬 수 있으므로, 작업 스케줄러에 불필요한 명령이 없는지 확인하고 불필요한 명령이 있다면 삭제한다.

* 예약 작업을 활용하지 않는다면,작업 스케줄러(task schedulter)서비스를 중지한다.

* 예약 작업 확인 방법

  * ```
    at 또는 schtasks    <=at은 윈10에서는 안됨
    ```

    
    

#### 이동 디스크 보안 관리

* 이동식 디스크 자동 실행 옵션이 허용되어 있을 경우, "Autorun.inf" 파일에 기록된 내용이 자동으로 실행될 때 악성 코드에 감염이 될 수 있으므로 이동식디스크를 자동으로 실행되지 않도록 설정한다.

* 이동식 디스크 자동실행 제한 방법 

  * (gpedit.msc)

  * http://support.microsoft.com/kb/967715/ko

    

#### 불필요한 서비스 제거

* 불필요한 정보 제공 및 악의적인 목적으로 사용할 수 있는 서버스는 제거한다.

* 서버의 목적상 사용하지 않는 서비스를 제거하여 불필요한 부하가 발생하지 않도록 한다.

* 서비스 확인 및 관리 방법

  * services.msc

    

#### 불필요한 서비스 제거

* 일반적인 시스템 운영에서 필요로 하지 않은 서비스들

  | 서비스 명                                                    |                                                              |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | Alerter                                                      | 섵갷된 사용자와 컴퓨터에 관리용 경고 메세지를 전송           |
  | clipbook                                                     | 정보를 저장(잘라내기, 붙여넣기)하고, 이 정보를 다른 컴퓨터와 공유하는데 사용 |
  | Computer  Brower Service                                     | 네트워크에 있는 모든 컴퓨터의 목록을 업데이트 하며, 이 목록을 브라우저로 지정된 컴퓨터에 제공 |
  | Internet Connection Firewall<br />and Internet Sharing Service | 네트워크 주소 변환, 주소 지정, 이름 확인 및 홈 네트워크나 소규모 네트워크 침입을 방치하는 서비스 제공 |
  | Indexing Service                                             | 로컬 및 원격 컴퓨터에 있는 파일의 내용 및 속성을 인덱싱하여 쿼리 언어를 통해 파일을 빠르게 접근 |
  | Infrared Monitor Service                                     | 무선 포트를 사용하는 컴퓨터와의 파일 교환                    |
  | NetMeeting Remote Desktop SHaring Service                    | 인증된 사용자가 넷 미팅을 사용해서 원격으로 컴퓨터에 접근할 수 있도록 함 |
  | Routing and Remote Access Service                            | 로컬 영역 및 광역 네트워크 환경에 있는 사업체에 라우팅 서비스를 제공 |
  | Simplet TCP/IP Service                                       | 몇몇 오래된 UNIX 네트워크 서비스를 지원                      |
  | SNTP Service                                                 | 네트워크를 통해 전자메일을 전송                              |
  | Telnet                                                       | 원격 사용자가 이 컴퓨터에 로그인하여 프로그램을 실행         |
  | Windows Media Services                                       | 회사 인트라넷과 인터넷을 통해 스트리밍 오디오와 비디오를 제공 |

  

#### 원격 데스크톱 서비스 설정

* 원격 데스크톱(RD:Remote Desktop)서비스

  *  windows Server 2003의 터미널 서비스에 해당

  * 효율적인 소프트웨어 배포 및 관리가 가능
  * 프로그램 업그레이드 및 유지관리가 용이
  * 원격지에 있는 서버 관리에 사용

* 취약한 패스워드를 사용하거나 접근 제어가 적절하지 못한 경우에는 해킹 도구로 악용될 수 있다. 해결책

  1. 터미널 서비스의 암호화 수준을 높힘.
  2. 접속 타임아웃을 설정해야 한다.
  3. 원격터미널 접속가능한 사용자 그룹을 제한해야 한다.